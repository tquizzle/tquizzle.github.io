<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>AutoFocus Previous Post / Next Post Image Thumbnails</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="ramblings, utterances, nonsense...mylife.">
    <link rel="canonical" href="http://www.tquizzle.com/http:/bit.ly/12KdQv3">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">

</head>


    <body>

    <header class="site-header">

  <div class="wrap">

    <a class="site-title" href="/">TQuizzle.com</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
          <a class="page-link" href="/about/">About</a>
        
          
        
          
        
          <a class="page-link" href="/archives/">Archives</a>
        
          <a class="page-link" href="/about/">About</a>
        
          <a class="page-link" href="/contact/">Contact</a>
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>AutoFocus Previous Post / Next Post Image Thumbnails</h1>
    <p class="meta">Jun 26, 2012 • TQuizzle</p>
  </header>

  <article class="post-content">
  <p>For a primer, you should check out my <a href="http://www.tquizzle.com/archive/previous-post-next-post-image-thumbnails/" title="Previous Post / Next Post Image Thumbnails using Autofocus">previous post</a> on this topic. There will be some referencing it in this post.</p>

<p>It’s been a couple of years since that post and many things have changed.<br />
The theme <a rel="nofollow" target="_blank" href="http://fthrwght.com/autofocus/">AutoFocus</a> has gone through a number of changes. Alan has released a “Pro” (paid) version of the theme with tons of enhancements. He’s also stayed fairly current on releasing updates to the theme. Now both the lite and pro versions are at version 2.0.2 and come with some bells &amp; whistles that just weren’t available when I started using Autofocus.</p>

<p>Even with all of those updates, enhancements, etc… I just didn’t like the direction AutoFocus was going. I was stuck in its 1.x days and loving the way it worked. I love the simplicity, lack of widgets, and overall minimalistic view of the theme. Needless to say, I never upgraded. I’ve made my own modifications to the theme throughout the time I’ve had it, and I like it just the way it is.<br />
<!--more--></p>

<h3 id="the-new-issues">The New Issues</h3>

<p>So as the title (and the previous post I wrote about it) would suggest, I thought that the single post pages needed the thumbnails of the previous and next posts. I just thought it looked funny without them. With this idea, I set off to make that happen.<br />
<a href="http://i1.wp.com/www.tquizzle.com/uploads/2009/11/Picture-2.png"><img src="http://i2.wp.com/www.tquizzle.com/uploads/2009/11/Picture-2-198x300.png?fit=198%2C300" alt="" title="Zoomed Way Out to see the whole page" class="aligncenter size-medium wp-image-415" data-recalc-dims="1" /></a><br />
Now while that was successful, many people in the comments of that post pointed out enhancements and fixes to my code. I welcomed that and modified it accordingly.</p>

<p>A couple of weeks ago while I was upgrading some other themes I was updating the very popular <a rel="nofollow" target="_blank" href="http://www.binarymoon.co.uk/projects/timthumb/">TimThumb</a> script. It is used for dynamic re-sizing of images and has been very successful in doing so in many WordPress themes. I thought to myself, why not utilize this script in AutoFocus? Why didn’t I think of that before?</p>

<p>Now what I have is a post image thumbnail where I supply what I want TimThumb to resize the height to, and it adjusts the width proportionality. TimThumb also has a whole host of other settings it can do. I suggest you <a rel="nofollow" target="_blank" href="http://www.binarymoon.co.uk/2010/08/timthumb/" title="Using TimThumb part 1: Getting Started">check it out</a> and see for yourself.</p>

<h3 id="the-new-solution">The New Solution</h3>

<p>So what I’ve done now is revamped the way the previous/next post thumbnail gets displayed as well as turning the code into a function so I can just plop it into my single.php file.</p>

<ol>
  <li>First things first, go grab TimThumb and copy it into your theme directory. Rename this file thumb.php (if you’re following my example exactly) or edit the call to it on line 18 and 36.</li>
  <li>Paste the following function into your theme’s <em>functions.php</em> file. &lt;pre class="brush: php; collapse: false; highlight: [16,17,18,19,20,21,22,34,35,36,37,38,39,40]; title: ; toolbar: false; wrap-lines: true; notranslate" title=""&gt;/*
  Previous / Next Post Image Thumbnails
*/</li>
</ol>

<p>function tq_prev_next_post() {</p>

<pre><code>	echo '&amp;lt;div id="nav-below" class="navigation"&amp;gt;';

	$previouspost = get_previous_post($in_same_cat, $excluded_categories);
 
	if ($previouspost != null) {
		echo '&amp;lt;div class="nav-previous"&amp;gt;';
		previous_post_link('%link &amp;laquo; Previous');
		echo '&amp;lt;div class="nav-excerpt"&amp;gt;&amp;lt;p&amp;gt;';
 
		/* Show previous Post's Thumbnail */
		$tq_previouspost_img = get_post_meta($previouspost-&amp;gt;ID, "image_url", $single = true);
		$tq_previouspost_img = get_bloginfo('template_url') . "/thumb.php?src=" . $tq_previouspost_img . "&amp;h=150&amp;q=70&amp;s=1";
		$tq_previouspost_title = get_post($previouspost-&amp;gt;ID);
		$tq_previouspost_title = $tq_previouspost_title-&amp;gt;post_title;
		echo '&amp;lt;img class="post-thumb alignleft size-thumbnail" src="' . $tq_previouspost_img . '" alt="' . $tq_previouspost_title . '" /&amp;gt;';
		/* End previous thumbnail */			
 
		previous_post_excerpt();
		echo '&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;';
	} 
	$nextpost = get_next_post($in_same_cat, $excluded_categories);
 
	if ($nextpost != null) {
		echo '&amp;lt;div class="nav-next"&amp;gt;';
		next_post_link('&amp;lt;span style="text-align:right;"&amp;gt;Next &amp;raquo; %link &amp;lt;/span&amp;gt;');
		echo '&amp;lt;div class="nav-excerpt"&amp;gt;&amp;lt;p&amp;gt;';
 
		/* Show Next Post's Thumbnail */
		$tq_nextpost_img = get_post_meta($nextpost-&amp;gt;ID, "image_url", $single = true);
		$tq_nextpost_img = get_bloginfo('template_url') . "/thumb.php?src=" . $tq_nextpost_img . "&amp;h=150&amp;q=70&amp;s=1";
		$tq_nextpost_title = get_post($nextpost-&amp;gt;ID);
		$tq_nextpost_title = $tq_nextpost_title-&amp;gt;post_title;
		echo '&amp;lt;img class="post-thumb alignright size-thumbnail" src="' . $tq_nextpost_img . '" alt="' . $tq_nextpost_title . '" /&amp;gt;';
		/* End Next thumbnail */			
 
		next_post_excerpt();
		echo '&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;';
	}
	echo '&amp;lt;/div&amp;gt;&amp;lt;!-- #nav-below --&amp;gt;'; }&lt;/pre&gt;
</code></pre>

<ol>
  <li>
    <p>Edit your <em>single.php</em> file. You’re going to replace the &lt;pre class="brush: xml; light: true; title: ; notranslate" title=""&gt;&lt;div id=”nav-below”&gt; … &lt;/div&gt;&lt;/pre&gt;</p>

    <p>section with the function we just created. Replace it with &lt;pre class="brush: php; light: true; title: ; notranslate" title=""&gt;&lt;?php tq_prev_next_post(); ?&gt;&lt;/pre&gt;&lt;/li&gt; &lt;/ol&gt; </p>

    <p>That’s it. Again it would be best if you have any questions to first look at my <a href="http://www.tquizzle.com/archive/previous-post-next-post-image-thumbnails/" title="Previous Post / Next Post Image Thumbnails using Autofocus">original post</a> as to where these chunks of code go and how the overall code block should look.</p>

    <p>Here’s what it looks like now.<br />
<a href="http://i0.wp.com/www.tquizzle.com/uploads/2012/06/autofocus_preview_2.jpg"><img src="http://i0.wp.com/www.tquizzle.com/uploads/2012/06/autofocus_preview_2-300x86.jpg?fit=300%2C86" alt="" title="AutoFocus Preview 2" class="aligncenter size-medium wp-image-11492" data-recalc-dims="1" /></a></p>

    <p>You can also see it in action by visiting my <a rel="nofollow" target="_blank" href="http://photos.tquizzle.com">Photoblog</a>.</p>

    <div class="sharedaddy sd-sharing-enabled">
  <div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing">
    <h3 class="sd-title">
      Share this:
    </h3>
        
    <div class="sd-content">
      <ul>
        <li class="share-twitter">
          <a rel="nofollow" class="share-twitter sd-button share-icon" href="http://www.tquizzle.com/archive/autofocus-previous-post-next-post-image-thumbnails/?share=twitter" title="Click to share on Twitter" id="sharing-twitter-11477"><span>Twitter</span></a>
        </li>
        <li class="share-google-plus-1">
          <a rel="nofollow" class="share-google-plus-1 sd-button share-icon" href="http://www.tquizzle.com/archive/autofocus-previous-post-next-post-image-thumbnails/?share=google-plus-1" title="Click to share on Google+" id="sharing-google-11477"><span>Google</span></a>
        </li>
        <li class="share-facebook">
          <a rel="nofollow" class="share-facebook sd-button share-icon" href="http://www.tquizzle.com/archive/autofocus-previous-post-next-post-image-thumbnails/?share=facebook" title="Share on Facebook" id="sharing-facebook-11477"><span>Facebook</span></a>
        </li>
        <li class="share-custom">
          <a rel="nofollow" class="share-custom sd-button share-icon" href="http://www.tquizzle.com/archive/autofocus-previous-post-next-post-image-thumbnails/?share=custom-1371173110" title="Click to share"><span style="background-image:url(&quot;http://www.repost.us/wp-content/themes/repost-beta/repost-site/favicon.ico&quot;);">repost</span></a>
        </li>
        <li>
          <a href="#" class="sharing-anchor sd-button share-more"><span>More</span></a>
        </li>
        <li class="share-end">
        </li>
      </ul>
          
      <div class="sharing-hidden">
        <div class="inner" style="display: none;">
          <ul>
            <li class="share-linkedin">
              <a rel="nofollow" class="share-linkedin sd-button share-icon" href="http://www.tquizzle.com/archive/autofocus-previous-post-next-post-image-thumbnails/?share=linkedin" title="Click to share on LinkedIn" id="sharing-linkedin-11477"><span>LinkedIn</span></a>
            </li>
            <li class="share-reddit">
              <a rel="nofollow" class="share-reddit sd-button share-icon" href="http://www.tquizzle.com/archive/autofocus-previous-post-next-post-image-thumbnails/?share=reddit" title="Click to share on Reddit"><span>Reddit</span></a>
            </li>
            <li class="share-end">
            </li>
            <li class="share-digg">
              <a rel="nofollow" class="share-digg sd-button share-icon" href="http://www.tquizzle.com/archive/autofocus-previous-post-next-post-image-thumbnails/?share=digg" title="Click to Digg this post"><span>Digg</span></a>
            </li>
            <li class="share-stumbleupon">
              <a rel="nofollow" class="share-stumbleupon sd-button share-icon" href="http://www.tquizzle.com/archive/autofocus-previous-post-next-post-image-thumbnails/?share=stumbleupon" title="Click to share on StumbleUpon"><span>StumbleUpon</span></a>
            </li>
            <li class="share-end">
            </li>
            <li class="share-email">
              <a rel="nofollow" class="share-email sd-button share-icon" href="http://www.tquizzle.com/archive/autofocus-previous-post-next-post-image-thumbnails/?share=email" title="Click to email this to a friend"><span>Email</span></a>
            </li>
            <li class="share-print">
              <a rel="nofollow" class="share-print sd-button share-icon" href="http://www.tquizzle.com/archive/autofocus-previous-post-next-post-image-thumbnails/" title="Click to print"><span>Print</span></a>
            </li>
            <li class="share-end">
            </li>
            <li class="share-end">
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
  </li>
</ol>


  </article>

</div>
      </div>
    </div>

    <footer class="site-footer">

  <div class="wrap">

    <h2 class="footer-heading">TQuizzle.com</h2>

    <div class="footer-col-1 column">
      <ul>
        <li>TQuizzle.com</li>
        <li><a href="mailto:your-email@domain.com">your-email@domain.com</a></li>
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/tquizzle">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <span class="username">tquizzle</span>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/tquizzle">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
                c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
                c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
                C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
                c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
                c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
              </svg>
            </span>
            <span class="username">tquizzle</span>
          </a>
        </li>
      </ul>
    </div>

    <div class="footer-col-3 column">
      <p class="text">ramblings, utterances, nonsense...mylife.</p>
    </div>

  </div>

</footer>


    </body>
</html>